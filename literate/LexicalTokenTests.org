#+TITLE: Lexical Token Tests
#+PROPERTY: header-args    :comments both :tangle ../test/LexicalToken.test.js

* Preamble

#+begin_src js
import { Token } from "../src/LexicalToken.js";
#+end_src

* ValueIdentifier

#+begin_src js
it("Simple ValueIdentifier", () => {
    expect(Token.ValueIdentifier.factory("abcd")).toEqual({
        type: Token.ValueIdentifier.event,
        original: "abcd"
    })
})

it("ValueIdentifier can be added to", () => {
    const token = Token.ValueIdentifier.factory("a");
    token.push("b");
    expect(token).toEqual({
        type: Token.ValueIdentifier.event,
        original: "ab"
    })
})
#+end_src

* Blank

#+begin_src js
it("Blank", () => {
    expect(Token.Blank.factory()).toEqual({
        type: Token.Blank.event,
        original: "_"
    })
})

it("Blank can NOT be added to", () => {
    const token = Token.Blank.factory();
    expect(() => token.push("a")).toThrowError();
})
#+end_src
* Number

#+begin_src js
it("Number", () => {
    expect(Token.Number.factory("1")).toEqual({
        type: Token.Number.event,
        original: "1"
    })
})

it("Number can be added to", () => {
    const token = Token.Number.factory("0");
    token.push("1");
    expect(token).toEqual({
        type: Token.Number.event,
        original: "01"
    })
})
#+end_src
